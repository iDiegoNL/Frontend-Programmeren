<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<h2>Lab 07</h2>
<h3>Factuur</h3>
<script>
    var klantnaam = prompt('Voer je eigen naam in');
    var aantal = parseInt(prompt('Aantal boeken te bestellen'));
    var titel = 'JavaScript';
    var prijs = 29.90;
    var woonplaats = prompt('Voer je woonplaats in').toLowerCase();
    // Prompt voor de postcode, haal de eventuele spaties weg
    var postcode = prompt('Voer je postcode in').replace(/\s/g, '');
    // Pak de laatste twee letters
    var postcode_letters = postcode.slice(-2);
    // Pak de eerste vier nummers
    var postcode_nummers = postcode.slice(0, 4);
    var bezorgkosten = 0;
    // IF de woonplaats is Amsterdam AND de postcode nummers tussen 1000 en 2000 in liggen AND de postcode letters tussen AA en BB in liggen
    if (woonplaats = 'amsterdam' && postcode_nummers >= 1000 && postcode_nummers <= 2000 && postcode_letters >= 'AA' && postcode_letters <= 'BB') {
        var bezorgkosten = 0;
        alert('U betaalt geen bezorgkosten');
    } else {
        var bezorgkosten = 15;
    }
    var totaal = aantal * prijs;
    var btw = totaal * 0.21;
    var btwtotaal = btw + totaal;

    var vandaag = new Date();
    var dd = vandaag.getDate();
    var mm = vandaag.getMonth() + 1;
    var jjjj = vandaag.getFullYear();
    vandaag = dd + '-' + mm + '-' + jjjj;
    document.write('Factuurdatum: ' + vandaag + '<br>');

    var betaaldatum = new Date();
    var dd = betaaldatum.getDate() + 5;
    var mm = betaaldatum.getMonth() + 1;
    var jjjj = betaaldatum.getFullYear();
    betaaldatum = dd + '-' + mm + '-' + jjjj;
    document.write('Betaaldatum: ' + betaaldatum);

    document.write('<br>Bedankt voor je bestelling, ' + klantnaam);
    document.write('<br>Boektitel is: ' + titel);
    document.write('<br>Aantal te bestellen: ' + aantal);
    document.write('<br>Prijs per boek is: ' + prijs.toFixed(2));
    document.write('<br>Bedrag is: &euro; ' + Math.round(totaal));
    document.write('<br>BTW is: &euro; ' + Math.round(btwtotaal));
    document.write('<br>Bezorgkosten: &euro; ' + bezorgkosten);
    document.write('<br>Totaal inclusief BTW is: &euro; ' + Math.round(totaal));
</script>
</body>
</html>